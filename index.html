<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Rmate by aurora</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Rmate</h1>
        <h2>Remote TextMate 2 implemented as shell script</h2>

        <section id="downloads">
          <a href="https://github.com/aurora/rmate/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/aurora/rmate/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/aurora/rmate" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="rmate" class="anchor" href="#rmate" aria-hidden="true"><span class="octicon octicon-link"></span></a>rmate</h1>

<h2>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>TextMate 2 adds a nice feature, where it is possible to edit files on a remote server
using a helper script. The original helper script provided with TM2 is implemented in
ruby. Here is my attempt to replace this ruby script with a shell script, because in 
some cases a ruby installation might just be to much overhead for just editing remote
files.</p>

<p>The shell script needs to be copied to the server, you want to remote edit files, on.
After that, open your TM2 preferences and enable "Allow rmate connections" setting in
the "Terminal" settings and adjust the setting "Access for" according to your needs:</p>

<h3>
<a id="local-clients" class="anchor" href="#local-clients" aria-hidden="true"><span class="octicon octicon-link"></span></a>Local clients</h3>

<p>It's a good idea to allow access only for local clients. In this case you need to open
a SSH connection to the system you want to edit a file on and specify a remote tunnel in
addition:</p>

<pre><code>ssh -R 52698:localhost:52698 user@example.com
</code></pre>

<p>If you are logged in on the remote system, you can now just execute</p>

<pre><code>rmate test.txt
</code></pre>

<h3>
<a id="remote-clients" class="anchor" href="#remote-clients" aria-hidden="true"><span class="octicon octicon-link"></span></a>Remote clients</h3>

<p>On some machines, where port forwarding is not possible, for example due to a missing ssh
daemon, you can allow access for "remote clients". Just ssh or telnet to the remote machine
and execute:</p>

<pre><code>rmate -H textmate-host test.txt
</code></pre>

<h3>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<p>Example session: Editing html file located on an SGI o2: <a href="https://github.com/aurora/rmate/wiki/Screens">https://github.com/aurora/rmate/wiki/Screens</a></p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<p>A bash with compiled support for "/dev/tcp" is required. This is not the case on some 
older linux distributions, like Ubuntu 9.x.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<pre><code>$ ./rmate [-H host-name] [-p port-number] [-w] [-l line-number] [-m display-name] [-t file-type] [-f] [-v] file-path
</code></pre>

<h3>
<a id="required-parameters" class="anchor" href="#required-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Required parameters</h3>

<p><em>rmate</em> takes a file as last argument. This argument is always required.</p>

<h3>
<a id="optional-parameters" class="anchor" href="#optional-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Optional parameters</h3>

<pre><code>-H  connect to host (default: localhost)
-p  port number to use for connection (default: 52698)
-w  wait for file to be closed by TextMate
-l  place caret on line number after loading file
-m  the display name shown in TextMate
-t  treat file as having specified type
-f  open even if file is not writable
-v  verbose logging messages
-h  display this usage information
</code></pre>

<h3>
<a id="default-parameter-configuration" class="anchor" href="#default-parameter-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Default parameter configuration</h3>

<p>Some default parameters (<em>host</em> and <em>port</em>) can be configured by defining them 
as the environment variables <code>RMATE_HOST</code> and <code>RMATE_PORT</code> or by putting them 
in a configuration file. The configuration files loaded are <code>/etc/rmate.rc</code> 
and <code>~/.rmate.rc</code>, e.g.:</p>

<pre><code>host: auto  # prefer host from SSH_CONNECTION over localhost
port: 52698
</code></pre>

<p>The precedence for setting the configuration is (higher precedence counts):</p>

<ol>
<li>default (localhost, 52698)</li>
<li>/etc/rmate.rc</li>
<li>~/.rmate.rc</li>
<li>environment variables (RMATE_HOST, RMATE_PORT)</li>
</ol>

<h2>
<a id="disclaimer" class="anchor" href="#disclaimer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Disclaimer</h2>

<p>Use with caution. This software may contain serious bugs. I can not be made responsible for
any damage the software may cause to your system or files.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>rmate</p>

<p>Copyright (C) 2011 by Harald Lapp <a href="mailto:harald@octris.org">harald@octris.org</a></p>

<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
      </section>
    </div>

    
  </body>
</html>